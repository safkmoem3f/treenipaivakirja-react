(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{53:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),s=n.n(c),u=n(20),l=n(9),o=(n(53),n(54),n(25)),i=n(8),j=a.a.createContext({isLoggedIn:!1,token:null,username:"",fname:"",lname:"",pro:"",setUsername:function(){},setName:function(){},login:function(){},logout:function(){}}),b=n(1),d=function(){return Object(b.jsxs)("div",{id:"etusivu",children:[Object(b.jsx)("h1",{children:"TREENIP\xc4IV\xc4KIRJA"}),Object(b.jsx)("h6",{children:"Created by Melinda Backstr\xf6m"})]})},h=n(27),O=function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.result.pvm}),Object(b.jsx)("td",{children:e.result.yht}),Object(b.jsx)("td",{children:e.result.lkm})]})},x=function(e){return Object(b.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"P\xe4iv\xe4m\xe4\xe4r\xe4"}),Object(b.jsx)("th",{children:"Suoritukset yhteens\xe4"}),Object(b.jsx)("th",{children:"Suorittajalukum\xe4\xe4r\xe4"})]})}),Object(b.jsx)("tbody",{children:e.Results.map((function(e){return Object(b.jsx)(O,{result:e},e._id)}))})]})},p=n(24),f=n(11),m=n.n(f),v=n(16),g=n(17),k=n.n(g),w="http://localhost:5000/result",C={getAllPro:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:w+"/professionals"},e.prev=1,e.next=4,k()(t);case 4:return n=e.sent,console.log("Promise fulfilled"),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 12:case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getAllAmateur:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:w+"/amateurs"},e.prev=1,e.next=4,k()(t);case 4:return n=e.sent,console.log("Promise fulfilled"),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 12:case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getAllPersonal:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:w},e.prev=1,e.next=4,k()(t);case 4:return n=e.sent,console.log("Promise fulfilled"),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 12:case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getPerson:function(){var e=Object(v.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:w,data:t},e.prev=1,e.next=4,k()(n);case 4:return r=e.sent,console.log("Promise fulfilled"),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){C.getAllAmateur().then((function(e){return a(e)}))}),[]),Object(b.jsxs)(p.a,{fluid:!0,className:"p-5",children:[Object(b.jsx)("h1",{children:"Harrastajien tulokset"}),Object(b.jsx)(x,{Results:n})]})},S=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){C.getAllPro().then((function(e){return a(e)}))}),[]),Object(b.jsxs)(p.a,{fluid:!0,className:"p-5",children:[Object(b.jsx)("h1",{children:"Ammattilaisten tulokset"}),Object(b.jsx)(x,{Results:n})]})},L=n(23),P=n(22),R=n(21),I=n(6),M=function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.result.pvm}),Object(b.jsx)("td",{children:e.result.laji}),Object(b.jsx)("td",{children:e.result.krt}),Object(b.jsx)("td",{children:e.result.paino}),Object(b.jsxs)("td",{children:[Object(b.jsx)(P.a,{onClick:function(){return e.setShowModal(!0)},children:"Muokkaa"}),Object(b.jsx)(P.a,{children:"Poista"})]})]})},A=function(e){var t=function(t){t.preventDefault(),e.setNewResult(Object(u.a)(Object(u.a)({},e.newResult),{},Object(L.a)({},t.target.name,t.target.value)))};return Object(b.jsxs)(R.a,{show:e.showModal,onHide:function(){return e.setShowModal(!1)},children:[Object(b.jsx)(R.a.Header,{closeButton:!0,children:Object(b.jsx)(R.a.Title,{children:"Lis\xe4\xe4 uusi tulos"})}),Object(b.jsx)(R.a.Body,{children:Object(b.jsxs)(I.a,{children:[Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"P\xe4iv\xe4m\xe4\xe4r\xe4"}),Object(b.jsx)(I.a.Control,{type:"date",name:"pvm",value:e.newResult.pvm,onChange:function(e){return t(e)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"Laji"}),Object(b.jsx)(I.a.Control,{type:"text",name:"laji",value:e.newResult.laji,onChange:function(e){return t(e)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"Suorituskerrat"}),Object(b.jsx)(I.a.Control,{type:"number",name:"krt",value:e.newResult.krt,onChange:function(e){return t(e)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"Paino (kg)"}),Object(b.jsx)(I.a.Control,{type:"number",name:"lkm",value:e.newResult.lkm,onChange:function(e){return t(e)}})]})]})}),Object(b.jsx)(R.a.Footer,{children:Object(b.jsx)(P.a,{children:"Ok"})})]})},G=function(e){var t=Object(r.useContext)(j),n=Object(r.useState)([]),a=Object(l.a)(n,2),c=a[0],s=a[1],u=Object(r.useState)(!1),o=Object(l.a)(u,2),i=o[0],d=o[1],O=Object(r.useState)({username:t.username,pvm:"",laji:"",krt:"",paino:""}),x=Object(l.a)(O,2),f=x[0],m=x[1];Object(r.useEffect)((function(){var e=!0;return e&&C.getPerson(t).then((function(e){return s(e)})),function(){return e=!1}}),[t]);return Object(b.jsxs)(p.a,{fluid:!0,className:"p-5",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("h1",{children:["Omat treenit: ",t.name]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)(h.a,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"P\xe4iv\xe4m\xe4\xe4r\xe4"}),Object(b.jsx)("th",{children:"Laji"}),Object(b.jsx)("th",{children:"Suorituskerrat"}),Object(b.jsx)("th",{children:"Paino (kg)"}),Object(b.jsx)("th",{children:"\xa0"})]})}),Object(b.jsx)("tbody",{children:c.map((function(e){return Object(b.jsx)(M,{result:e,setShowModal:d},e._id)}))})]}),Object(b.jsx)(P.a,{onClick:function(){d(!0)},children:"Lis\xe4\xe4 tulos"}),Object(b.jsx)(A,{showModal:i,setShowModal:d,newResult:f,setNewResult:m})]})]})},E="http://localhost:5000/user",K={getAll:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:E},e.prev=1,e.next=4,k()(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(v.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"post",url:E+"/login",data:t},e.prev=1,e.next=4,k()(r);case 4:return a=e.sent,n(a.data.token,a.data.fname,a.data.lname,a.data.username,a.data.pro),e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e.catch(1),console.log("Could not login!"),e.abrupt("return",e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),signup:function(){var e=Object(v.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:E+"/register",data:t},e.prev=1,e.next=4,k()(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log("Could not signup!"),e.abrupt("return",e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},q=n(29),N=n(31),B=n(30),H=n(32),D=n(26),J=function(e){return Object(b.jsxs)(I.a,{children:[Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(b.jsx)(I.a.Control,{type:"text",name:"username",required:!0,value:e.user.username,onChange:function(t){return e.handleInput(t)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"Salasana"}),Object(b.jsx)(I.a.Control,{type:"password",name:"password",required:!0,value:e.user.password,onChange:function(t){return e.handleInput(t)}})]})]})},T=function(e){return Object(b.jsxs)(I.a,{children:[Object(b.jsx)(I.a.Group,{children:Object(b.jsxs)(I.a.Row,{children:[Object(b.jsxs)(D.a,{children:[Object(b.jsx)(I.a.Label,{children:"Etunimi"}),Object(b.jsx)(I.a.Control,{type:"text",name:"fname",required:!0,value:e.user.fname,onChange:function(t){return e.handleInput(t)}})]}),Object(b.jsxs)(D.a,{children:[Object(b.jsx)(I.a.Label,{children:"Sukunimi"}),Object(b.jsx)(I.a.Control,{type:"text",name:"lname",required:!0,value:e.user.lname,onChange:function(t){return e.handleInput(t)}})]})]})}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"S\xe4hk\xf6posti"}),Object(b.jsx)(I.a.Control,{type:"email",name:"email",required:!0,value:e.user.email,onChange:function(t){return e.handleInput(t)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(b.jsx)(I.a.Control,{type:"text",name:"username",required:!0,value:e.user.username,onChange:function(t){return e.handleInput(t)}})]}),Object(b.jsxs)(I.a.Group,{children:[Object(b.jsx)(I.a.Label,{children:"Salasana"}),Object(b.jsx)(I.a.Control,{type:"password",name:"password",required:!0,value:e.user.password,onChange:function(t){return e.handleInput(t)}})]}),Object(b.jsx)(I.a.Group,{children:Object(b.jsx)(I.a.Check,{type:"checkbox",label:"Ammattilainen",name:"pro",value:!0,onChange:function(t){return e.handleInput(t)}})})]})},_=function(e){var t=Object(r.useContext)(j),n=Object(r.useState)(!0),a=Object(l.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)({fname:"",lname:"",email:"",username:"",password:"",pro:!1}),i=Object(l.a)(o,2),d=i[0],h=i[1],O=function(e){e.preventDefault(),h(Object(u.a)(Object(u.a)({},d),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)(R.a,{show:e.showModal,onHide:function(){e.setModal(!1),s(!0)},children:[Object(b.jsx)(N.a,{closeButton:!0,children:Object(b.jsx)(H.a,{children:c?"Kirjaudu":"Rekister\xf6idy"})}),Object(b.jsx)(q.a,{children:c?Object(b.jsx)(J,{handleInput:O,user:d}):Object(b.jsx)(T,{handleInput:O,user:d})}),Object(b.jsxs)(B.a,{children:[Object(b.jsx)(P.a,{variant:"link",onClick:function(){c?s(!1):c||s(!0)},children:c?"Rekister\xf6idy":"Kirjaudu"}),Object(b.jsx)(P.a,{onClick:function(e){return function(e){if(e.preventDefault(),c){try{K.login(d,t.login)}catch(n){return console.log(n)}h({fname:"",lname:"",email:"",username:"",password:"",pro:!1})}else{console.log(d);try{K.signup(d),s(!0)}catch(n){return console.log(n)}}}(e)},children:c?"Kirjaudu sis\xe4\xe4n":"Rekister\xf6i uusi k\xe4ytt\xe4j\xe4"})]})]})},F=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(l.a)(c,2),h=s[0],O=s[1],x=Object(r.useState)(""),p=Object(l.a)(x,2),f=p[0],m=p[1],v=Object(r.useState)(""),g=Object(l.a)(v,2),k=g[0],w=g[1],C=Object(r.useState)(""),L=Object(l.a)(C,2),P=L[0],R=L[1],I=Object(r.useState)(!1),M=Object(l.a)(I,2),A=M[0],E=M[1],K=Object(r.useCallback)((function(e,t,n,r,c){O(!0),a(e),m(r),w("".concat(t," ").concat(n)),R(c),E(!1)}),[]),q=Object(r.useCallback)((function(){O(!1),a(null)}),[]);return Object(b.jsxs)(j.Provider,{value:{isLoggedIn:!!n,token:n,pro:P,username:f,name:k,login:K,logout:q},children:[Object(b.jsx)(o.a,{children:Object(b.jsxs)("main",{children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{exact:!0,to:"/",children:"Etusivu"})}),Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"/harrastajien-tulokset",children:"Harrastajien tulokset"})}),h&&"true"===P?Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"/ammattilaisten-tulokset",children:"Ammattilaisten tulokset"})}):null,h?Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"/omat-treenit",children:"Omat treenit"})}):null,h?Object(b.jsx)(i.a,{to:"/omat-treenit"}):Object(b.jsx)(i.a,{to:"/"}),Object(b.jsx)("li",{id:"right",children:Object(b.jsx)("button",{onClick:function(){h?q():E(!0)},children:h?"Kirjaudu ulos":"Kirjaudu"})})]})}),Object(b.jsx)(i.b,{exact:!0,path:"/",component:d}),Object(b.jsx)(i.b,{path:"/harrastajien-tulokset",component:y}),Object(b.jsx)(i.b,{path:"/ammattilaisten-tulokset",component:S}),Object(b.jsx)(i.b,{path:"/omat-treenit",render:function(e){return Object(b.jsx)(G,Object(u.a)({},e))}})]})}),Object(b.jsx)(_,{showModal:A,setModal:E})]})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.310b277a.chunk.js.map